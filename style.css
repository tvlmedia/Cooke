/* ===========================
   GLOBAL / BASICS
   =========================== */
* { -webkit-user-drag: none; user-select: none; }

:root {
  --sensor-scale: 1;
  --viewer-scale: 1;

  /* Cooke-ish branding */
  --ig-bg: #050608; /* bijna zwart, heel licht koel */
  --ig-panel: #0c0e11;
  --ig-panel-soft: rgba(10, 12, 15, 0.92);
  --ig-border: #262626;
  --ig-border-soft: rgba(255, 255, 255, 0.06);

  /* Cooke yellow */
  --ig-accent: #f5c643;
  --ig-accent-soft: rgba(245, 198, 67, 0.22);

  --ig-text: #f7f7f7;
  --ig-text-muted: #a3a3a3;
}

body{
  margin:0;
  background:var(--ig-bg);
  color:var(--ig-text);
  font-family:"Inter","Helvetica Neue",sans-serif;
  font-size:14px;
  line-height:1.6;
}

/* ===========================
   HEADER / LOGO
   =========================== */
/* ===========================
   HEADER / LOGO
   =========================== */
#igHeader {
  width: min(1200px, 96vw);  /* zelfde breedte als toolRoot/frame */
  margin: 0 auto;            /* centreren op de pagina */
  display: flex;
  justify-content: center;
  padding: 18px 0 10px;      /* iets meer ruimte onder het logo */
}

#igHeader img {
  height: 90px;              /* iets kleiner dan eerst */
  width: auto;
  opacity: 1;
  filter: drop-shadow(0 0 16px rgba(0,0,0,0.7));
  transition: opacity .2s ease;
}

#igHeader img:hover {
  opacity: 1;                /* geen hover-gedrag op logo */
}

/* ===========================
   CONTROLS (los van viewer)
   =========================== */
.controls.desktop-only{
  position: sticky;
  top: 0;
  z-index: 50;

  /* zelfde breedte + centrering als logo / toolRoot */
  width: min(1200px, 96vw);
  margin: 10px auto 14px;      /* auto = centreren */

  padding: 10px 14px;
  border-radius: 12px;
  background: linear-gradient(145deg,#050608,#14161b);
  border: 1px solid rgba(245,198,67,0.33);
  box-shadow:
    0 0 22px rgba(0,0,0,0.85),
    0 0 14px rgba(245,198,67,0.18);
  backdrop-filter: blur(9px);
  -webkit-backdrop-filter: blur(9px);
}

select,
.control-button,
#toggleButton,
#fullscreenButton,
#downloadPdfButton{
  height:28px;                /* lager */
  line-height:26px;
  padding:0 10px;
  background:#050608;
  color:var(--ig-text);
  border:1px solid #2c2c2c;
  border-radius:999px;
  font-size:12px;             /* iets kleiner */
  letter-spacing:.06em;
  text-transform:uppercase;
  cursor:pointer;
  transform:none;
  transition:
    background .18s ease,
    border-color .18s ease,
    color .18s ease,
    box-shadow .18s ease;
}

/* Hover: wel “Cooke geel”, maar geen schaal */
select:hover,
.control-button:hover,
#toggleButton:hover,
#fullscreenButton:hover,
#downloadPdfButton:hover{
  background:var(--ig-accent);
  border-color:var(--ig-accent);
  color:#000;
  box-shadow:0 0 12px rgba(245,198,67,0.4);
  transform:none !important;
}

/* Actief: GEEN scale meer */
.control-button:active,
select:active{
  box-shadow:none;
  transform:none !important;
}

.control-button:focus,
select:focus{
  outline:none;
  box-shadow:0 0 0 1px var(--ig-accent-soft),0 0 0 3px rgba(0,0,0,.9);
  border-color:var(--ig-accent);
}

#cameraSelect,
#sensorFormatSelect,
#focalLength{ min-width:120px; }
#leftLens,
#rightLens{ min-width:180px; }
#tStopLeftSelect,
#tStopRightSelect{ min-width:80px; }

/* Scale chip + slider met Cooke accent */
#scaleCtrl.chip{
  display:inline-flex;
  align-items:center;
  gap:.4rem;
  height:28px;
  padding:0 8px;
  white-space:nowrap;
  background:#050608;
  border:1px solid #2c2c2c;
  border-radius:999px;
}

#scaleCtrl #scaleVal{
  min-width:40px;
  text-align:right;
  color:var(--ig-text-muted);
  font-size:11px;
}

#scaleCtrl input[type="range"]{
  -webkit-appearance:none;
  appearance:none;
  width:110px;
  height:16px;
  margin:0;
  padding:0;
  background:transparent;
}

#scaleCtrl input[type="range"]::-webkit-slider-runnable-track,
#scaleCtrl input[type="range"]::-moz-range-track{
  height:3px;
  background:#222;
  border-radius:999px;
  border-bottom:1px solid rgba(255,255,255,.25);
}

#scaleCtrl input[type="range"]::-webkit-slider-thumb,
#scaleCtrl input[type="range"]::-moz-range-thumb{
  width:12px;
  height:12px;
  border-radius:50%;
  background:var(--ig-accent);
  border:2px solid #000;
  cursor:pointer;
}

/* ===========================
   VIEWER
   =========================== */
#toolRoot{ width:min(1200px,96vw); margin:0 auto; }

#comparisonWrapper{
  position:relative;
  width:100%;
  min-height:clamp(360px,56vw,900px);
  margin:0;
  background:#000;
  overflow:hidden;
  --lb-top:0px; --lb-bottom:0px; --lb-left:0px; --lb-right:0px;
}

/* buitenrand van de viewer */
#comparisonWrapper::after{
  content:"";
  position:absolute;
  inset:0;
  border:1px solid rgba(245,198,67,0.33);
  box-shadow:0 0 18px rgba(0,0,0,0.9);
  pointer-events:none;
}

/* Rechter laag (before) + Linker laag (after) */
#beforeImage{ position:absolute; inset:0; }

#beforeImgTag{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; display:block;
  transform:scale(calc(var(--sensor-scale)*var(--viewer-scale)));
  transform-origin:center; will-change:transform;
}

#afterWrapper{
  position:absolute; inset:0; overflow:hidden; z-index:2;
  clip-path:inset(0 50% 0 0); -webkit-clip-path:inset(0 50% 0 0);
  will-change:clip-path;
}

#afterImgTag{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; display:block;
  transform:scale(calc(var(--sensor-scale)*var(--viewer-scale)));
  transform-origin:center; will-change:transform;
}

/* Slider-lijn */
#slider{
  position:absolute;
  top:0;
  bottom:0;
  left:50%;
  transform:translateX(-50%);
  width:2px;
  background:var(--ig-accent);
  box-shadow:0 0 14px rgba(245,198,67,.6);
  cursor:ew-resize;
  z-index:10;
  touch-action:none;
}

/* Outlines per helft (slider-mode) */
#beforeImage,
#afterWrapper{
  box-sizing:border-box;
  border:1px solid rgba(245,198,67,0.33);
}
#beforeImage{ border-left:none; }
#afterWrapper{ border-right:none; }

/* ===========================
   FULLSCREEN
   =========================== */
#comparisonWrapper:fullscreen,
#comparisonWrapper:-webkit-full-screen{
  width:100vw; height:100vh; margin:0; background:#000; box-sizing:border-box;
  padding:var(--lb-top,0) var(--lb-right,0) var(--lb-bottom,0) var(--lb-left,0);
  overflow:hidden;
}
#comparisonWrapper:fullscreen #beforeImgTag,
#comparisonWrapper:-webkit-full-screen #beforeImgTag,
#comparisonWrapper:fullscreen #afterWrapper,
#comparisonWrapper:-webkit-full-screen #afterWrapper{ position:absolute; inset:0; }
#comparisonWrapper:fullscreen #beforeImgTag,
#comparisonWrapper:-webkit-full-screen #beforeImgTag,
#comparisonWrapper:fullscreen #afterImgTag,
#comparisonWrapper:-webkit-full-screen #afterImgTag{
  width:100%; height:100%; object-fit:cover; object-position:center;
}
#comparisonWrapper:fullscreen #slider,
#comparisonWrapper:-webkit-full-screen #slider{ top:0; bottom:0; }

#fsBars{ position:absolute; inset:0; pointer-events:none; z-index:9; }
#fsBars .bar{ position:absolute; background:#000; }
#fsBars .top{    top:0; left:var(--lb-left,0); right:var(--lb-right,0); height:var(--lb-top,0); }
#fsBars .bottom{ bottom:0; left:var(--lb-left,0); right:var(--lb-right,0); height:var(--lb-bottom,0); }
#fsBars .left{   top:var(--lb-top,0); bottom:var(--lb-bottom,0); left:0;  width:var(--lb-left,0); }
#fsBars .right{  top:var(--lb-top,0); bottom:var(--lb-bottom,0); right:0; width:var(--lb-right,0); }

/* ===========================
   SIDE-BY-SIDE (SxS)
   =========================== */
#sbsWrapper{ position:absolute; inset:0; z-index:3; display:none; padding:0; box-sizing:border-box; }
.sbs-mode #sbsWrapper{ display:flex; width:100%; height:100%; }

body.sbs-mode #sbsWrapper{
  display:flex !important;
  position:absolute; inset:0;
  padding:0 !important;
  z-index:3;
}

/* elke helft */
body.sbs-mode #sbsWrapper .pane{
  position:relative;
  flex:1 1 50%;
  overflow:hidden;
  border:1px solid rgba(245,198,67,0.33);
}

body.sbs-mode #sbsWrapper .pane:first-child{ border-right:0; }
body.sbs-mode #sbsWrapper .pane:last-child { border-left:0; }

body.sbs-mode #sbsWrapper .pane img{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover; object-position:center;
  transform:scale(calc(var(--sensor-scale)*var(--viewer-scale)));
  transform-origin:center;
  will-change:transform;
}

/* 1px middenlijntje */
body.sbs-mode #sbsWrapper::before{
  content:""; position:absolute; top:0; bottom:0; left:50%;
  width:1px;
  background:var(--ig-accent);
  box-shadow: 0 0 14px rgba(245,198,67,0.55);
  z-index:4;
}

/* geen dubbele buitenrand in SxS: viewer-rand uit */
body.sbs-mode #comparisonWrapper::after{ display:none !important; }

/* viewer gewoon 100% van toolRoot */
body.sbs-mode #comparisonWrapper {
  width: 100%;
  max-width: 100%;
  margin: 0;
}

/* SxS: zelfde breedte als normaal (1200px frame) */
body.sbs-mode #toolRoot {
  width: min(1200px, 96vw);
  margin: 0 auto;
}

body.sbs-mode #toolRoot .frame-1200 {
  width: 100%;
}

/* ===========================
   LABELS + RAW buttons
   =========================== */
#infoContainer{
  width:100%;
  max-width:none;
  margin:10px 0 8px;
  padding:0 40px;
  box-sizing:border-box;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:40px;
  color:var(--ig-text-muted);
}

.infoCol{
  flex:1 1 0;
  min-width:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  gap:8px;
}

#leftLabel,#rightLabel{
  white-space:nowrap;
  font-size:13px;
}

#infoContainer a{
  color:var(--ig-text);
  text-decoration:none;
}
#infoContainer a:hover{
  color:var(--ig-accent);
  text-decoration:underline;
}

#lensInfo{
  max-width: 1200px;
  width: 100%;
  margin: 14px auto 0;
  padding: 0 40px;
  box-sizing: border-box;
  text-align: left;
}

/* Lensnamen in lensInfo geel */
#lensInfo b,
#lensInfo strong {
  color: var(--ig-accent);
  font-weight: 700;
}

/* ===========================
   DETAIL VIEWER
   =========================== */
body.dragging, body.dragging *{
  user-select:none !important;
  -webkit-user-select:none !important;
  -ms-user-select:none !important;
}

#detailOverlay{
  position:fixed; inset:0;
  width:100vw; height:100vh;
  pointer-events:none;
  z-index:9999;
  overflow:visible;
  display:none;
}
#detailOverlay.active{ display:block; }

.detail-view-square{
  position:absolute;
  width:240px;
  height:240px;
  aspect-ratio:1/1;              /* altijd perfect vierkant */
  overflow:hidden;
  border-radius:4px;
  background:rgba(5,6,8,0.96);
  box-shadow:0 0 18px rgba(0,0,0,0.9);
  box-sizing:border-box;
}

/* Cooke border + glow – altijd geel, geen wit */
.detail-view-square::after{
  content:"";
  position:absolute;
  inset:0;
  border:2px solid var(--ig-accent);
  box-shadow:
    0 0 16px rgba(245,198,67,0.55),
    0 0 4px rgba(245,198,67,0.35) inset;
  pointer-events:none;
}

/* inhoud (zoom) */
.detail-view-square img{
  position:absolute;
  width:300%;
  height:auto;
  object-fit:cover;
  transform-origin:top left;
  border:none;
  outline:none;
}

#leftDetail  { margin-left: -100px; }
#rightDetail { margin-left:  100px; }

/* ===========================
   RESPONSIVE
   =========================== */
@media (max-width:1000px){
  #cameraSelect,#sensorFormatSelect,#focalLength{ min-width:120px; }
  #scaleCtrl input[type="range"]{ width:100px; }
}

@media (max-width:767px){
  #fullscreenButton,#detailViewToggle{ display:none !important; }
  .mobile-mode #comparisonWrapper{ width:100vw; }
  #infoContainer{ max-width:100%; padding:0 16px; gap:16px; font-size:13px; }
  #lensInfo{ font-size:12px; line-height:1.4; padding:10px 12px; }
  .controls.mobile-only{ display:block !important; }
}

.controls.mobile-only{ display:none !important; }

/* duplicaat-vangnet */
.controls.desktop-only:not(:first-of-type),
.controls.mobile-only:not(:first-of-type){ display:none !important; }

/* ===========================
   PRINT
   =========================== */
@media print{
  body{ background:#fff !important; color:#000 !important; }
  .controls,#explanationBox{ display:none !important; }
  #comparisonWrapper{ width:100% !important; height:auto !important; aspect-ratio:auto !important; }
  #infoContainer{ color:#000 !important; }
  #comparisonWrapper img{ object-fit:contain !important; }
}

/* ===========================
   OPTIONAL / MISC
   =========================== */
#explanationBox{
  max-width: 960px;
  width: 100%;
  margin: 12px auto 40px;
  font-size: 13px;
  color: #b5b5b5;
  padding: 12px 16px;
  background: #101216;
  border-left: 4px solid var(--ig-accent);
  border-radius: 6px;
  line-height: 1.5;
  box-sizing: border-box;
}

/* gedeeld frame voor controls + viewer + info */
.frame-1200{
  width:min(1200px,96vw);
  margin:0 auto;
}

.frame-1200 .controls.desktop-only,
.frame-1200 #comparisonWrapper,
.frame-1200 #infoContainer{
  width:100%;
  margin-left:0;
  margin-right:0;
  box-sizing:border-box;
}

/* row-1: alles op één regel, strakker */
.controls.desktop-only .row-1 {
  flex-wrap: nowrap;
  gap: 4px;
}

.controls.desktop-only .row-1 select,
.controls.desktop-only .row-1 .control-button,
.controls.desktop-only .row-1 #scaleCtrl {
  min-width: auto;
  padding: 0 8px;
  font-size: 11px;
  height: 26px;
  line-height: 24px;
}

/* camera + sensor dropdowns iets smaller */
.controls.desktop-only .row-1 #cameraSelect,
.controls.desktop-only .row-1 #sensorFormatSelect {
  min-width: 105px;
}

/* flare toggle specifiek iets smaller */
#flareToggle {
  min-width: 90px !important;
  padding: 0 8px !important;
}

/* mobiele embed uit op desktop */
.lens-frame-outer,
.lens-frame-outer.mobile-only {
  display:none !important;
}
@media (max-width:767px){
  .lens-frame-outer { display:block !important; }
}

/* toolRoot full width (binnen frame-1200) */
#toolRoot{
  width:100%;
}
/* ===========================
   SCALE SLIDER DOT = COOKE GEEL
   =========================== */
#scaleCtrl input[type="range"]::-webkit-slider-thumb,
#scaleCtrl input[type="range"]::-moz-range-thumb,
#scaleCtrl input[type="range"]::-ms-thumb {
  background: var(--ig-accent) !important;
  border: 2px solid #000;
}

#scaleCtrl .scale-dot,
#scaleCtrl .scale-handle {
  background: var(--ig-accent) !important;
}
